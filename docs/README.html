<h1 id="sector-cpc">SECTOR-CPC</h1>
<p><img src="face.png" /></p>
<p>SECTOR-CPC is a command line utility to create and edit DSK images for Amstrad CPC 464/644/6128 family of computers.</p>
<h2 id="usage">Usage</h2>
<pre><code>Arguments:
  --file filename.dsk &lt;command&gt;
  --new  filename.dsk
  --no-amsdos                         Do not add amsdos header.
Options:
  &lt;command&gt;:
    dir                               Lists the contents of the disk.
    dump &lt;file_name&gt;                  Hexdump the contents of file to standard output.
    extract &lt;file_name&gt;               Extract the contents of file into host disk.
    insert &lt;file_name&gt; [&lt;entry_addr&gt;, &lt;exec_addr&gt;]
                                      Insert the file in host system into disk.
    del &lt;file_name&gt;                   Delete the file from disk.

Notes:
  &lt;entry_addr&gt; and &lt;exec_addr&gt; are in base 16, non-numeric characters will be ignored.
    E.g. 0x8000, or &amp;8000 and 8000h is valid.
</code></pre>
<h2 id="build">Build</h2>
<p>You can install CMake with a any C89/90 compliant C compiler.</p>
<pre><code>mkdir build
cd build
cmake ..
make</code></pre>
<p>Or you can simply do:</p>
<pre><code>cc *.c -osector-cpc</code></pre>
<h2 id="examples">Examples</h2>
<p>Create a new DSK image:</p>
<pre><code>./sector-cpc --new test.dsk</code></pre>
<p>Insert a file into the image:</p>
<pre><code>./sector-cpc --file test.dsk insert test.txt</code></pre>
<p>For a binary file with <code>entry</code> and <code>execution</code> addresses:</p>
<pre><code>./sector-cpc --file test.dsk insert code.bin 8000,8000</code></pre>
<p>List files in the image:</p>
<pre><code>./sector-cpc --file test.dsk dir
TEST.TXT   1K</code></pre>
<p>Hex-dump the contents of file:</p>
<pre><code>./sector-cpc --file test.dsk dump test.txt
0800: 00 54 45 53 54 20 20 20 20 54 58 54 00 00 00 00 .TEST    TXT....
080f: 00 00 02 00 00 e5 e5 00 07 00 00 00 00 00 00 00 ................
081f: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................
082f: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................
083f: 07 00 00 9a 04 00 00 00 00 00 00 00 00 00 00 00 ................
084f: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................
085f: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................
086f: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................
0880: 46 4f 4f 42 41 52 0a e5 e5 e5 e5 e5 e5 e5 e5 e5 FOOBAR..........
088f: e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 ................
089f: e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 ................
08af: e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 ................
08bf: e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 ................
08cf: e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 ................
08df: e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 ................
08ef: e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 e5 ................</code></pre>
<p>Extract a file from the disk image:</p>
<pre><code>./sector-cpc --file test.dsk extract test.txt
Extract file test.txt.</code></pre>
